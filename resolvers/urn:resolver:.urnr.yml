# URN for explain itself

# https://regex101.com/?regex=urn:resolver:(.*)
# urn_base: "urn:resolver:(.*)"
# urn_resolver_internal: true

# https://stats.uptimerobot.com/jYDZlFY8jq

$schema: urn:resolver:schema:urnr
"@id": urn:resolver
meta:
  _internal: true
  Cache-Control:
    _cc_mode: internal

  examples:
    - in.urn: urn:resolver:ping
    - in.urn: urn:resolver:index
    - in.urn: urn:resolver:help
    - in.urn: urn:resolver:_explore
    - in.urn: urn:resolver:_summary

    # - in.urn: urn:resolver:ping
    #   # out.[0].iri: "{{ urnresolver }}/_/resolver/ping.php"
    # - in.urn: urn:resolver:ping
    #   out.iri: "{{ urnresolver_base.self }}/_/resolver/ping.php"
    # out.iri: "{{ base_iri }}/_/resolver/ping.php"
  spec:
    - https://github.com/EticaAI/urn-resolver

rules:
  - in:
      urn: "urn:resolver:(.*)"
    # internal: true
    # out:
    #   - iri: "_/resolver/ping.php"

  - in:
      urn: "urn:resolver:ping"
    # internal: true
    # out:
    #   # - iri: "{{ urnresolver_base.self }}/_/resolver/pong.php"
    #   - iri: "{{ urnresolver }}/_/resolver/pong.php"

  - in:
      urn: "urn:resolver:cron:run"
    # internal: true
    # out:
    #   # - iri: "{{ urnresolver_base.self }}/_/resolver/cron.php"
    #   - iri: "{{ urnresolver }}/_/resolver/cron.php"
