# URN for explain itself

# https://regex101.com/?regex=urn:resolver:(.*)
# urn_base: "urn:resolver:(.*)"
# urn_resolver_internal: true

# https://stats.uptimerobot.com/jYDZlFY8jq

_meta:
  Cache-Control:
    _cc_mode: internal
  spec:
    - https://github.com/EticaAI/urn-resolver
  examples:
    - in.urn: urn:resolver:ping
      out.[0].iri: "{{ urnresolver }}/_/resolver/ping.php"
    # - in.urn: urn:resolver:ping
    #   out.iri: "{{ urnresolver_base.self }}/_/resolver/ping.php"
      # out.iri: "{{ base_iri }}/_/resolver/ping.php"

rules:
  - in:
      urn: "urn:resolver:(.*)"
    out:
      - iri: "_/resolver/ping.php"

  - in:
      urn: "urn:resolver:ping"
    out:
      # - iri: "{{ urnresolver_base.self }}/_/resolver/pong.php"
      - iri: "{{ urnresolver }}/_/resolver/pong.php"

  - in:
      urn: "urn:resolver:cron:run"
    out:
      # - iri: "{{ urnresolver_base.self }}/_/resolver/cron.php"
      - iri: "{{ urnresolver }}/_/resolver/cron.php"
